# Hexagonal Architecture Visual Guide

## 1. Hexagonal Architecture Diagram

```
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚          INFRASTRUCTURE LAYER           â”‚
                                    â”‚                                         â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         PRIMARY ADAPTERS               â”‚
                â”‚                   â”‚                                         â”‚
                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                â”‚  â”‚    REST     â”‚  â”‚  â”‚      ProductRestAdapter         â”‚   â”‚
                â”‚  â”‚   Client    â”‚  â”‚  â”‚   - @RestController             â”‚   â”‚
                â”‚  â”‚             â”‚  â”‚  â”‚   - HTTP endpoints              â”‚   â”‚
                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚   - Request/Response mapping    â”‚   â”‚
                â”‚         â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                â”‚         â”‚ HTTP    â”‚                    â”‚                    â”‚
                â”‚         â”‚         â”‚                    â”‚ implements         â”‚
                â”‚         â–¼         â”‚                    â–¼                    â”‚
                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                â”‚  â”‚    JSON     â”‚  â”‚  â”‚        INPUT PORTS              â”‚   â”‚
                â”‚  â”‚  Request    â”‚  â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
                â”‚  â”‚             â”‚  â”‚  â”‚   â”‚ CreateProductUseCase    â”‚   â”‚   â”‚
                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚   â”‚ GetProductUseCase       â”‚   â”‚   â”‚
                â”‚                   â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚                    â”‚
                                    â”‚                    â”‚                    â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                         â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚              APPLICATION LAYER                      â”‚
                    â”‚                                                     â”‚
                    â”‚                       â”‚                             â”‚
                    â”‚                       â–¼                             â”‚
                    â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
                    â”‚            â”‚   ProductService    â”‚                  â”‚
                    â”‚            â”‚   - Business Logic  â”‚                  â”‚
                    â”‚            â”‚   - Use Case Impl   â”‚                  â”‚
                    â”‚            â”‚   - Domain Rules    â”‚                  â”‚
                    â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                    â”‚                       â”‚                             â”‚
                    â”‚                       â”‚ uses                        â”‚
                    â”‚                       â–¼                             â”‚
                    â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
                    â”‚            â”‚    OUTPUT PORTS     â”‚                  â”‚
                    â”‚            â”‚  ProductOutputPort  â”‚                  â”‚
                    â”‚            â”‚   - saveProduct()   â”‚                  â”‚
                    â”‚            â”‚   - getById()       â”‚                  â”‚
                    â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                    â”‚                       â”‚                             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                 DOMAIN LAYER                        â”‚
                    â”‚                                                     â”‚
                    â”‚                       â”‚                             â”‚
                    â”‚                       â–¼                             â”‚
                    â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
                    â”‚              â”‚     Product     â”‚                    â”‚
                    â”‚              â”‚   - id: Long    â”‚                    â”‚
                    â”‚              â”‚   - name        â”‚                    â”‚
                    â”‚              â”‚   - description â”‚                    â”‚
                    â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
                    â”‚                       â–²                             â”‚
                    â”‚                       â”‚                             â”‚
                    â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
                    â”‚          â”‚ ProductNotFoundException â”‚                â”‚
                    â”‚          â”‚   - Domain Exception    â”‚                â”‚
                    â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
                    â”‚                                                     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚          INFRASTRUCTURE LAYER                       â”‚
                    â”‚                                                     â”‚
                    â”‚                       â”‚                             â”‚
                    â”‚                       â–¼                             â”‚
                    â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
                    â”‚        â”‚      SECONDARY ADAPTERS         â”‚          â”‚
                    â”‚        â”‚                                 â”‚          â”‚
                    â”‚        â”‚  ProductPersistenceAdapter      â”‚          â”‚
                    â”‚        â”‚   - implements OutputPort       â”‚          â”‚
                    â”‚        â”‚   - Database operations         â”‚          â”‚
                    â”‚        â”‚   - Entity mapping              â”‚          â”‚
                    â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                    â”‚                       â”‚                             â”‚
                    â”‚                       â”‚ uses                        â”‚
                    â”‚                       â–¼                             â”‚
                    â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
                    â”‚        â”‚      ProductRepository          â”‚          â”‚
                    â”‚        â”‚   - Spring Data JPA             â”‚          â”‚
                    â”‚        â”‚   - Database Interface          â”‚          â”‚
                    â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                    â”‚                       â”‚                             â”‚
                    â”‚                       â”‚ persists to                 â”‚
                    â”‚                       â–¼                             â”‚
                    â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
                    â”‚        â”‚         DATABASE                â”‚          â”‚
                    â”‚        â”‚      (H2 / PostgreSQL)         â”‚          â”‚
                    â”‚        â”‚                                 â”‚          â”‚
                    â”‚        â”‚  ProductEntity Table            â”‚          â”‚
                    â”‚        â”‚   - id (Primary Key)            â”‚          â”‚
                    â”‚        â”‚   - name                        â”‚          â”‚
                    â”‚        â”‚   - description                 â”‚          â”‚
                    â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. Dependency Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DEPENDENCY DIRECTION                         â”‚
â”‚                                                                 â”‚
â”‚  Infrastructure  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  Application  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  Domain â”‚
â”‚                                                                 â”‚
â”‚     Adapters     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º     Ports     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  Models â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3. Data Transformation Flow

```
HTTP Request (JSON)
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ProductRequest  â”‚ â”€â”€â”€â”€ REST Layer â”€â”€â”€â”€â”
â”‚ - name         â”‚                     â”‚
â”‚ - description  â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
         â”‚                              â”‚
         â”‚ ModelMapper                  â”‚
         â–¼                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚    Product      â”‚ â”€â”€â”€â”€ Domain Layer â”€â”€â”¤
â”‚ - id           â”‚                     â”‚
â”‚ - name         â”‚                     â”‚
â”‚ - description  â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
         â”‚                              â”‚
         â”‚ ProductMapper                â”‚
         â–¼                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚ ProductEntity   â”‚ â”€â”€ Persistence â”€â”€â”€â”€â”€â”˜
â”‚ - id (@Id)     â”‚     Layer
â”‚ - name         â”‚
â”‚ - description  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    Database Table
```

## 4. Port Types

### Primary Ports (Input Ports)
- **Purpose**: Define what the application can do
- **Location**: Application layer
- **Implementation**: Domain services
- **Called by**: Primary adapters (REST controllers, etc.)

### Secondary Ports (Output Ports)  
- **Purpose**: Define what the application needs
- **Location**: Application layer
- **Implementation**: Secondary adapters (repositories, external APIs)
- **Called by**: Domain services

## 5. Key Characteristics

### âœ… Benefits Achieved
- **Testability**: Domain logic can be tested without database
- **Flexibility**: Easy to change web framework or database
- **Maintainability**: Clear separation of concerns
- **Technology Independence**: Core logic independent of frameworks

### ğŸ—ï¸ Architecture Rules Enforced
1. **Domain layer** has no external dependencies
2. **Application layer** defines contracts (ports)
3. **Infrastructure layer** implements the contracts (adapters)
4. **Dependencies point inward** toward the domain

---

*This visual guide illustrates how the hexagonal architecture maintains clean separation between business logic and technical implementation details.*